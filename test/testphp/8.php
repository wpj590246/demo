<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--[if lt IE 7]> <html class="no-js ie ie6 lte9 lte8 lte7"><![endif]-->
<!--[if IE 7]>    <html class="no-js ie ie7 lte9 lte8 lte7"><![endif]-->
<!--[if IE 8]>    <html class="no-js ie ie8 lte9 lte8"><![endif]-->
<!--[if IE 9]>    <html class="no-js ie ie9 lte9"><![endif]-->
<!--[if gt IE 9]> <html class="no-js"><![endif]-->
<!--[if !IE]><!--><html class='fox'><!--<![endif]-->

<head>
<meta http-equiv="Content-Type" content="text/html; charset=gbk" />
<link rel="stylesheet" href="http://www.aojiaomao.com/css/ajm.min.css?v=121010">
<link rel="stylesheet" href="http://code.jquery.com/ui/1.9.1/themes/base/jquery-ui.css">
<style>
	.post-xxx {
		height : 200px;
	
	}
/* 	.box {
	    display: inline;
    float: left;
    margin: 5px;
	width :230px;
	border: 1px solid;
	} */
	
	button {
		margin : 10px;
	
	}
	
	#container #more {
    background-color: #333333;
    border: 1px solid;
    
    color: white;
    display: block;
    
    
    text-align: center;
    width: 98%;
	height : 20px;
}
</style>

<script src="/demo/jquery.js"></script>
<script type="text/javascript" src="/demo/jquery.masonry.min.js"></script>
<script type="text/javascript" src="/demo/jquery.infinitescroll.min.js"></script>
<script src="/demo/jquery-ui.min.js"></script>
</head>
<body>
<button>remove someone</button><button data-filter="*">all</button><button data-filter="filter">filter</button>
<div data-id="testandtest qq" >ghjkhgj</div>
<div id="container">
	<div class="box box-category masonry-brick" style="position: absolute; top: 0px; left: 0px;">

				<div class="box-inner">
					<div class="category-body">
						<div class="category-body-inner">
													<dl id="category-1" class="clearfix">
								<dt>风格</dt>
															<dd><a href="/item/index?filter=1%3A1">欧美<i></i></a></dd>
															<dd><a href="/item/index?filter=1%3A2">日系<i></i></a></dd>
															<dd><a href="/item/index?filter=1%3A3">朋克<i></i></a></dd>
															<dd><a href="/item/index?filter=1%3A4">复古<i></i></a></dd>
															<dd><a href="/item/index?filter=1%3A5">英伦<i></i></a></dd>
															<dd><a href="/item/index?filter=1%3A6">韩式<i></i></a></dd>
															<dd><a href="/item/index?filter=1%3A7">性感<i></i></a></dd>
															<dd><a href="/item/index?filter=1%3A8">甜美<i></i></a></dd>
															<dd><a href="/item/index?filter=1%3A9">街拍<i></i></a></dd>
															<dd><a href="/item/index?filter=1%3A10">森女<i></i></a></dd>
														</dl>
							<div class="line"><div class="line-inner"></div></div>
													<dl id="category-2" class="clearfix">
								<dt>颜色</dt>
															<dd><a href="/item/index?filter=2%3A1">糖果色<i></i></a></dd>
															<dd><a href="/item/index?filter=2%3A2">裸色<i></i></a></dd>
															<dd><a href="/item/index?filter=2%3A3">粉<i></i></a></dd>
															<dd><a href="/item/index?filter=2%3A4">红<i></i></a></dd>
															<dd><a href="/item/index?filter=2%3A5">蓝<i></i></a></dd>
															<dd><a href="/item/index?filter=2%3A6">白<i></i></a></dd>
															<dd><a href="/item/index?filter=2%3A7">绿<i></i></a></dd>
															<dd><a href="/item/index?filter=2%3A8">紫<i></i></a></dd>
															<dd><a href="/item/index?filter=2%3A9">黑<i></i></a></dd>
															<dd><a href="/item/index?filter=2%3A10">黄<i></i></a></dd>
														</dl>
							<div class="line"><div class="line-inner"></div></div>
													<dl id="category-3" class="clearfix">
								<dt>材质</dt>
															<dd><a href="/item/index?filter=3%3A1">纯棉<i></i></a></dd>
															<dd><a href="/item/index?filter=3%3A2">毛呢<i></i></a></dd>
															<dd><a href="/item/index?filter=3%3A3">雪纺<i></i></a></dd>
															<dd><a href="/item/index?filter=3%3A4">莫代尔<i></i></a></dd>
															<dd><a href="/item/index?filter=3%3A5">蕾丝<i></i></a></dd>
															<dd><a href="/item/index?filter=3%3A6">真丝<i></i></a></dd>
															<dd><a href="/item/index?filter=3%3A7">棉麻<i></i></a></dd>
															<dd><a href="/item/index?filter=3%3A8">化纤<i></i></a></dd>
															<dd><a href="/item/index?filter=3%3A9">牛仔<i></i></a></dd>
															<dd><a href="/item/index?filter=3%3A10">皮革<i></i></a></dd>
															<dd><a href="/item/index?filter=3%3A11">莱卡<i></i></a></dd>
														</dl>
							<div class="line"><div class="line-inner"></div></div>
													<dl id="category-4" class="clearfix">
								<dt>热门关键词</dt>
															<dd><a href="/item/index?filter=4%3A1">裙裤<i></i></a></dd>
															<dd><a href="/item/index?filter=4%3A2">凉鞋<i></i></a></dd>
															<dd><a href="/item/index?filter=4%3A3">泳衣<i></i></a></dd>
															<dd><a href="/item/index?filter=4%3A4">露肩<i></i></a></dd>
															<dd><a href="/item/index?filter=4%3A5">蕾丝<i></i></a></dd>
															<dd><a href="/item/index?filter=4%3A6">蝴蝶结<i></i></a></dd>
															<dd><a href="/item/index?filter=4%3A7">可爱<i></i></a></dd>
															<dd><a href="/item/index?filter=4%3A8">T恤<i></i></a></dd>
															<dd><a href="/item/index?filter=4%3A9">手机壳<i></i></a></dd>
															<dd><a href="/item/index?filter=4%3A10">耳钉<i></i></a></dd>
														</dl>
							<div class="line"><div class="line-inner"></div></div>
													<dl id="category-sale" class="clearfix">
								<dt>折扣</dt>
															<dd><a href="/item/index?discount=1">3折以下<i></i></a></dd>
															<dd><a href="/item/index?discount=2">3-5折<i></i></a></dd>
															<dd><a href="/item/index?discount=3">5-7折<i></i></a></dd>
															<dd><a href="/item/index?discount=4">7折以上<i></i></a></dd>
														</dl>
							<div class="line"><div class="line-inner"></div></div>
							<form method="get" action="/item/index">                        <dl id="category-custom" class="clearfix">
								<dt>自定义价格</dt>
								<dd class="last">
									<input value="" name="minPrice" class="txt"> - <input value="" name="maxPrice" class="txt">
									<button class="short" type="submit">确定</button>
								</dd>
							</dl>
							<div class="line"><div class="line-inner"></div></div>
							<dl id="category-search" class="clearfix">
								<dt>搜索</dt>
								<dd class="last">
									<input value="" name="keyword" maxlength="20" class="txt">
									<button class="short" type="submit">搜索</button>
								</dd>
							</dl>
							</form>                    </div>
					</div>
				</div>
			</div>
			
	<div id="my-waterfall" class='clearfix'>			
		

	</div>
	
	<div id="loading" style="display : none;"><a href="callback.php?page=1" >loading</a></div>
</div>
<script>
	// alert($('div').attr('data-id'));
	// alert($('div').data('id'));
$(function(){

	var container = $('#container');
	
	$('button:first').click(function () {
		var num = $('.box').length ;
		var rand = Math.floor(Math.random()*num);
		container.masonry( 'remove', $('.box:eq(3)') ).masonry( 'reload' );
	});
	$('button:gt(0)').click(function () {
		var filter = $(this).data('filter');
		// if (filter == '*') 
			// $('.box').show();
		// else 
			// $('.'+filter).hide();
			// $('.filter').remove();
		container.masonry( 'reload' );

		
	});
	$("#my-waterfall").load('callback.php?page=1 div.box', function () {
	
		$(this).css('opacity',0);
		container.masonry( 'reload' );
		$(this).animate({'opacity' : 1}, 1000);
		$('#my-waterfall').sortable({
			// placeholder: "ui-state-highlight",
			stop : function () {container.masonry( 'reload' );}
		}).disableSelection();
	
	
	});
	$('#container').infinitescroll({
		navSelector : "#loading" ,
		nextSelector : "#loading a:first " ,
		itemSelector : "div.box",
		// animate : true,
		// extraScrollPx: 1000,  
		donetext     : "I think we've hit the end, Jim" ,
		
		debug : true,
		
		// localMode    : true
		}, function (newElements) {
		var $newElements = $(newElements) ;
		$newElements.css('opacity',0);
		$('#container').find('#my-waterfall').append( $newElements ).end().masonry( 'appended', $newElements );
		$newElements.animate({'opacity' : 1}, 1000);
		$('#my-waterfall').sortable().disableSelection();
	});
	
	// $(window).unbind('.infscr');
	// $(window).click(function () {
		
		// $(window).bind('.infscr');
	
	
	// });
	
	
	container.imagesLoaded(function () {
		container.masonry({
			// options
			itemSelector : '.box',

			/*  columnWidth : 240 ,//一列的宽度 ，包括边距 220+10+10 */
			// isAnimated:true, //使用jquery的布局变化，是否启用动画效果
			animationOptions:{
			//jquery animate属性 ，动画效果选项。比如渐变效果 Object { queue: false, duration: 500 }
			    duration: 450,
				easing: 'linear',
				queue: false,
				opacity: 0.2,
			
			},
			// gutterWidth:0,//列的间隙
			// isFitWidth:true,//自适应宽度
			isResizableL:true,// 是否可调整大小
			isRTL:false,//使用从右到左的布局
		});
	});
	
	
});


	



</script>

</body>
</html>